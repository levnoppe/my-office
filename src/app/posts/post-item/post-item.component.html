<form [formGroup]="postForm" (ngSubmit)="onSubmit()">
  <mat-card class="example-card" class="col-xs-12" style="float: right">
    <mat-card-subtitle
      style="font-size: medium"
      *ngIf="editMode === 'readonly'"
      class="col-xs-12">
      {{ post.date | date: 'dd/MM/yyyy  HH:mm'}}
    </mat-card-subtitle>
    <mat-form-field
      [appearance]="editMode == 'readonly' ? 'none': 'outline'"
      class="col-xs-10 no-padding"
      style="padding: -10px !important;"
    >
      <input matInput
             [readonly]="editMode == 'readonly'"
             [textContent]="post.title"
             [placeholder]="editMode == 'readonly' ? '': 'title'"
             formControlName="title"
             class="post-title"
      />
    </mat-form-field>
    <mat-checkbox

      class="example-margin"
      formControlName="publicState"
    >Public
    </mat-checkbox>

    <mat-form-field [appearance]="editMode == 'readonly' ? 'none': 'outline'" class="col-xs-12">
      <textarea matInput
                cdkTextareaAutosize
                cdkAutosizeMinRows="1"
                cdkAutosizeMaxRows="20"
                [readonly]="editMode == 'readonly'"
                [placeholder]="editMode == 'readonly' ? '': 'write your message here'"
                formControlName="body"
                class="col-xs-12 post-content"
      ></textarea>
    </mat-form-field>
    <br>
    <mat-card-actions align="end" class="col-xs-12">
      <button
        *ngIf="editMode === 'new'"
        type="submit"
        mat-raised-button
        style="margin: 5px"
        color="warn"
      >Post
      </button>
      <button
        *ngIf="editMode === 'readonly'"
        mat-raised-button
        style="margin: 5px"
        color="primary"
        (click)="onStartEdit()"
      >Edit
      </button>
      <button
        type="button"
        *ngIf="editMode === 'readonly'"
        mat-raised-button
        style="margin: 5px"
        color="primary"
        (click)="onDeletePost()"
      >Delete
      </button>
      <button
        type="button"
        *ngIf="editMode === 'edit'"
        mat-raised-button
        style="margin: 5px"
        color="warn"
        (click)="onSavePost()"
      >Save
      </button>
      <button
        type="button"
        *ngIf="editMode === 'edit'"
        mat-raised-button
        style="margin: 5px"
        color="warn"
        (click)="onCancelEdit()"
      >Cancel
      </button>
    </mat-card-actions>
  </mat-card>
</form>
